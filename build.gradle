//
//lintOptions {
//    abortOnError false
//}
plugins {
    id "org.jetbrains.intellij" version "$ijpVersion"
}
//compileOptions {
//    sourceCompatibility JavaVersion.VERSION_11
//    targetCompatibility JavaVersion.VERSION_11
//}
group 'lang.plugin.idea'
version "$pluginVersion"

apply plugin: 'java'

//def sinceBuildVersion = "${sinceBuildVersion}"
//def untilBuildVersion = "${untilBuildVersion}"

repositories {
    mavenLocal()
    maven {
        url "https://maven.aliyun.com/nexus/content/groups/public"
    }
    mavenCentral()
}

dependencies {
//    implementation "com.googlecode.aviator:aviator:${aviatorVersion}"
    implementation "com.alibaba:fastjson:${fastjsonVersion}"
//    testCompile group: 'junit', name: 'junit', version: '4.12'
}

processResources {
    include('**')
    setDuplicatesStrategy(DuplicatesStrategy.INCLUDE)
}

sourceSets {

    main {
        java {
//            srcDir 'src/main/gen'
            srcDir 'src/main/java'
//            srcDir 'src/main/gen-bnf'
//            srcDir 'src/main/gen-flex'
        }
        resources {
            srcDir 'src/main/resources'
        }
    }

    test {
        java {
            srcDir 'src/test/java'
        }
        resources {
            srcDir 'src/test/resources'
        }
    }
}
apply plugin: 'idea'
// See https://github.com/JetBrains/gradle-intellij-plugin/
intellij {
    version = ideaVersion
    plugins = ['java']
    //不更新，强制指定，避免误更新版本号
    updateSinceUntilBuild = false
}
